{"version":3,"file":"static/js/home-page.2ad301ae.chunk.js","mappings":"0LASIA,E,yGCPSC,E,QAAUC,GAAAA,IAAH,iD,4BDSL,SAASC,IACtB,OAA4CC,EAAAA,EAAAA,UAAS,IAArD,eAAOC,EAAP,KAAuBC,EAAvB,KACA,GAAkCF,EAAAA,EAAAA,WAAS,GAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KACMC,GAAWC,EAAAA,EAAAA,MAgCjB,OA9BAC,EAAAA,EAAAA,YAAU,WACR,IAAIN,EAAeO,OAAnB,CAKA,IAAMC,EAAS,CAAEC,aADjBd,EAASe,IAAAA,YAAAA,UAC4BC,OAE/BC,EAAiB,mCAAG,oGAEtBT,GAAa,GAFS,SAIDU,EAAAA,EAAAA,YAAgBL,GAJf,OAIhBM,EAJgB,OAKtBb,EAAkBa,GALI,gDAOtBC,EAAAA,GAAAA,MAAY,KAAMC,SAPI,yBAStBb,GAAa,GATS,4EAAH,qDAevB,OAFAS,IAEO,WACDjB,GACFA,EAAOsB,OAAO,uCAGjB,CAAChB,EAAmBD,KAGrB,UAACJ,EAAD,WACGM,IAAa,SAACgB,EAAA,EAAD,KACd,SAACC,EAAA,EAAD,CAAYL,OAAQd,EAAgBoB,KAAMhB,EAASiB","sources":["views/HomePage/HomePage.js","views/HomePage/HomePage.styles.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { toast } from 'react-toastify';\nimport axios from 'axios';\nimport MoviesList from 'components/MoviesList';\nimport api from '../../services/movies-api';\nimport { Wrapper } from './HomePage.styles';\nimport Loader from 'components/Loader';\nimport { useLocation } from 'react-router-dom';\n\nlet source;\n\nexport default function HomePage() {\n  const [trendingMovies, setTrendingMovies] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const location = useLocation();\n\n  useEffect(() => {\n    if (trendingMovies.length) {\n      return;\n    }\n\n    source = axios.CancelToken.source();\n    const config = { cancelToken: source.token };\n\n    const getTrendingMovies = async () => {\n      try {\n        setIsLoading(true);\n\n        const movies = await api.getTrending(config);\n        setTrendingMovies(movies);\n      } catch (error) {\n        toast.error(error.message);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    getTrendingMovies();\n\n    return () => {\n      if (source) {\n        source.cancel('Landing Component got unmounted');\n      }\n    };\n  }, [setTrendingMovies, trendingMovies]);\n\n  return (\n    <Wrapper>\n      {isLoading && <Loader />}\n      <MoviesList movies={trendingMovies} from={location.pathname} />\n    </Wrapper>\n  );\n}\n","import styled from 'styled-components';\n\nexport const Wrapper = styled.div`\n  padding-bottom: 30px;\n`;\n"],"names":["source","Wrapper","styled","HomePage","useState","trendingMovies","setTrendingMovies","isLoading","setIsLoading","location","useLocation","useEffect","length","config","cancelToken","axios","token","getTrendingMovies","api","movies","toast","message","cancel","Loader","MoviesList","from","pathname"],"sourceRoot":""}